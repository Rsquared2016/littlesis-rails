$(function(){
  var endpoint = '/nys/datatable';

  var columns = [
    { "data": 'name', "title": 'Name'},
    { "data": 'filer_id', "title": 'Filer ID' },
    { "data": 'entity_match', "title": 'matched entity' },
    { "data": 'match_buttons', "title": 'match buttons' }
  ];


  $('#entity-match-table').DataTable({
    "processing": true,
    "serverSide": true,
    "ordering": false,
    "ajax": endpoint,
    "columns": columns
  });


  $(document).bind('ajax:success', function(event) {
    $(event.target).html('<b>matched!</b>');
    console.log(event);
  });


  $(document).bind('ajax:error', function(event) {
    console.log('error');
    console.log(event);
  });
});
